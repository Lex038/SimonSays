<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8">
<title>Simon Says ‚Äî De Haan</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{--bg1:#000;--bg2:#070707;--red:#ff3b3b}
body{
  margin:0;font-family:"Trebuchet MS",Arial,sans-serif;
  background:radial-gradient(circle at center,var(--bg1) 0%,var(--bg2) 100%);
  color:#eee;text-align:center;overflow:hidden;transition:transform .1s;
  -webkit-tap-highlight-color:transparent;
}
#haan-bg{
  position:fixed; inset:0;
  background:url('https://upload.wikimedia.org/wikipedia/commons/2/2e/Rooster_silhouette.svg') no-repeat center/contain;
  opacity:0.06; filter:drop-shadow(0 0 6px rgba(255,0,0,0.15));
  z-index:1; pointer-events:none;
  transition:opacity 1s, transform 1s, filter 1s;
  transform:scale(1);
  animation: haanFloat 6s ease-in-out infinite;
}
#haan-bg.come-forward{
  opacity:0.42; transform:scale(1.05) translateY(-8%);
  filter:drop-shadow(0 0 40px rgba(255,10,10,0.35));
}
@keyframes haanFloat{
  0%{transform:translateY(0) rotate(0deg);opacity:0.06}
  25%{transform:translateY(-2%) rotate(1deg);opacity:0.08}
  50%{transform:translateY(0) rotate(0deg);opacity:0.06}
  75%{transform:translateY(2%) rotate(-1deg);opacity:0.08}
  100%{transform:translateY(0) rotate(0deg);opacity:0.06}
}
#red-eye{
  position: fixed;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,0,0,1) 0%, rgba(255,40,40,0.6) 35%, rgba(120,0,0,0.2) 65%, transparent 100%);
  box-shadow: 0 0 15px 5px rgba(255,0,0,0.25);
  opacity: 0;
  z-index: 9999;
  pointer-events: none;
  transition: opacity 3s ease;
}
#password-screen{
  position:fixed; inset:0; display:flex; flex-direction:column;
  align-items:center; justify-content:center; z-index:14;
  background: radial-gradient(circle at center, rgba(0,0,0,0.95) 0%, rgba(0,0,0,1) 100%);
  padding:24px; box-sizing:border-box;
}
#password-screen input{
  width:220px; padding:10px; font-size:16px; border-radius:8px; border:none;
  background:#111; color:#fff; text-align:center; outline:none;
  box-shadow:0 0 12px rgba(255,0,0,0.06);
}
#password-screen .btn{
  margin-top:12px; padding:10px 18px; border-radius:8px; border:none; cursor:pointer;
  background:#a00; color:#fff; font-size:16px; transition:transform .12s, background .18s;
}
#password-screen .btn:hover{transform:scale(1.03); background:#c22;}
#password-error{color:#ff8b8b; margin-top:10px; display:none;}
#portal{
  position:fixed; top:50%; left:50%; width:120px; height:120px; border-radius:50%;
  transform:translate(-50%,-50%) scale(0); border:4px solid rgba(255,50,50,0.9);
  box-shadow:0 0 40px 18px rgba(255,40,40,0.12); z-index:30; pointer-events:none; opacity:0;
}
#portal.active{animation:portalOpen 1.6s forwards;}
@keyframes portalOpen{
  0%{transform:translate(-50%,-50%) scale(0); opacity:0}
  30%{transform:translate(-50%,-50%) scale(1.1); opacity:1}
  60%{transform:translate(-50%,-50%) scale(1.8) rotate(180deg); opacity:.95}
  100%{transform:translate(-50%,-50%) scale(3) rotate(360deg); opacity:0}
}
#energy-wave{
  position:fixed; inset:0; z-index:25; pointer-events:none; opacity:0;
  background:radial-gradient(circle at 50% 48%,rgba(255,80,80,0.12),transparent 40%);
}
#energy-wave.active{animation:energySweep 1.6s ease-out forwards;}
@keyframes energySweep{
  0%{transform:scale(.6);opacity:0}
  30%{transform:scale(1.2);opacity:.6}
  60%{transform:scale(2);opacity:.35}
  100%{transform:scale(3.5);opacity:0}
}
#red-flash{
  position:fixed; inset:0; background:rgba(255,0,0,0.25);
  z-index:100; pointer-events:none; opacity:0;
}
#red-flash.active{animation:redflash .45s;}
@keyframes redflash{0%{opacity:.8}50%{opacity:.9}100%{opacity:0}}
#game-container{display:none;z-index:5;position:relative;padding:22px;}
#game{
  display:grid; grid-template-columns:repeat(2,140px); grid-template-rows:repeat(2,140px);
  gap:14px; justify-content:center; margin:26px auto;
}
.btn{width:140px;height:140px;border-radius:14px;opacity:.86;cursor:pointer;
  transition:transform .14s, box-shadow .18s, opacity .12s;
  box-shadow:0 3px 6px rgba(0,0,0,0.35);
}
#green{background:#00b894} #red{background:#d63031} #yellow{background:#fdcb6e} #blue{background:#0984e3}
.btn.active{transform:scale(1.08);opacity:1;box-shadow:0 6px 20px rgba(255,255,255,0.09)}
#controls{margin-top:10px;}
#progress{width:78%;height:18px;background:#222;border-radius:10px;margin:14px auto;overflow:hidden;}
#progress-bar{height:100%;width:0;background:linear-gradient(90deg,#ff3b3b,#ffa500);transition:width .3s;}
#status{margin-top:8px;font-size:16px;min-height:28px;}
#status.sparkle{animation:sparkle 2s infinite alternate;color:#fff;text-shadow:0 0 6px #ffaeae,0 0 12px #ff7b7b;}
@keyframes sparkle{from{filter:hue-rotate(0deg);}to{filter:hue-rotate(360deg);}}
@media (max-width:420px){
  #game{grid-template-columns:repeat(2,120px);grid-template-rows:repeat(2,120px);gap:10px;}
  .btn{width:120px;height:120px;border-radius:12px;}
}
</style>
</head>
<body>

<div id="haan-bg"></div>
<div id="red-eye"></div>
<div id="red-flash"></div>
<div id="portal"></div>
<div id="energy-wave"></div>

<div id="password-screen">
  <input id="password-input" type="password" placeholder="Wachtwoord" autocomplete="off"/>
  <button class="btn" onclick="checkPassword()">Verder</button>
  <div id="password-error">‚ùå Onjuist wachtwoord...</div>
</div>

<div id="game-container">
  <h2>Simon Says</h2>
  <div id="game">
    <div id="green" class="btn"></div>
    <div id="red" class="btn"></div>
    <div id="yellow" class="btn"></div>
    <div id="blue" class="btn"></div>
  </div>
  <div id="controls"><button onclick="startGame()">‚ñ∂Ô∏è Start</button></div>
  <div id="progress"><div id="progress-bar"></div></div>
  <div id="status">Druk op Start om te beginnen</div>
</div>

<script>
const correctPassword="noordkromp";
const audioCtx=new (window.AudioContext||window.webkitAudioContext)();
const buttons=["green","red","yellow","blue"];
let sequence=[],playerSequence=[],level=0,gameActive=false;
const goalLevel=18;
const sounds={green:440,red:523.25,yellow:659.26,blue:830.61};
const waveforms={green:"sine",red:"square",yellow:"triangle",blue:"sawtooth"};
let inGame=false;

/* Oog animatie stilstaand */
let eyeInterval;
function startEyeAnimation() {
  const eye = document.getElementById("red-eye");
  if (!eye) return;
  eye.style.opacity = 0;

  function blinkAndMove() {
    const margin = 40; 
    const edge = Math.floor(Math.random() * 4);
    let x = 0, y = 0;

    switch(edge){
      case 0: x = Math.random()*margin; y = Math.random()*window.innerHeight; break;
      case 1: x = Math.random()*window.innerWidth; y = Math.random()*margin; break;
      case 2: x = window.innerWidth - margin - 30; y = Math.random()*window.innerHeight; break;
      case 3: x = Math.random()*window.innerWidth; y = window.innerHeight - margin - 30; break;
    }

    eye.style.left = x + "px";
    eye.style.top = y + "px";
    eye.style.opacity = 1;
    setTimeout(()=>{ eye.style.opacity = 0; }, 3000);

    const nextTime = inGame ? 30000 + Math.random()*15000 : 15000 + Math.random()*5000;
    clearInterval(eyeInterval);
    eyeInterval = setInterval(blinkAndMove, nextTime);
  }

  blinkAndMove();
}
function stopEyeAnimation(){
  clearInterval(eyeInterval);
  const eye = document.getElementById("red-eye");
  if(eye) eye.style.opacity = 0;
}
startEyeAnimation();

/* Wachtwoord check */
function checkPassword(){
  const val=document.getElementById("password-input").value.trim();
  if(val===correctPassword){
    document.getElementById("password-screen").style.display="none";
    document.getElementById("game-container").style.display="block";
    inGame=true;
    startEyeAnimation();
  } else {
    document.getElementById("password-error").style.display="block";
    // rode flits
    const flash=document.getElementById("red-flash");
    flash.classList.add("active");
    setTimeout(()=>{flash.classList.remove("active");},450);
    if(navigator.vibrate) navigator.vibrate([150,50,150]);
  }
}

/* Simon Says */
function startGame(){
  sequence=[];playerSequence=[];level=0;gameActive=true;
  document.getElementById("status").textContent="Let op de sequentie...";
  nextLevel();
}
function nextLevel(){
  playerSequence=[];
  level++;
  sequence.push(buttons[Math.floor(Math.random()*4)]);
  showSequence();
}
function showSequence(){
  let delay=0;
  sequence.forEach((btn,i)=>{
    setTimeout(()=>{activateButton(btn);playSound(btn)},i*500); // dubbel tempo
  });
  setTimeout(()=>{document.getElementById("status").textContent="Jouw beurt";},sequence.length*500);
}
function activateButton(btn){
  const el=document.getElementById(btn);
  el.classList.add("active");
  setTimeout(()=>{el.classList.remove("active");},300);
}
function playSound(btn){
  const osc=audioCtx.createOscillator();
  const gain=audioCtx.createGain();
  osc.type=waveforms[btn];
  osc.frequency.value=sounds[btn];
  osc.connect(gain); gain.connect(audioCtx.destination);
  gain.gain.setValueAtTime(0.2,audioCtx.currentTime);
  osc.start(); osc.stop(audioCtx.currentTime+0.3);
}
buttons.forEach(b=>{
  document.getElementById(b).addEventListener("click",()=>{playerClick(b)});
});
function playerClick(btn){
  if(!gameActive) return;
  playerSequence.push(btn);
  activateButton(btn); playSound(btn);
  const index=playerSequence.length-1;
  if(playerSequence[index]!==sequence[index]){
    gameOver(); return;
  }
  if(playerSequence.length===sequence.length){
    if(level===goalLevel){
      gameWin(); return;
    } else {
      setTimeout(nextLevel,500);
    }
  }
}
function gameOver(){
  gameActive=false;
  document.getElementById("status").textContent="Fout! Probeer opnieuw.";
  if(navigator.vibrate) navigator.vibrate([300,100,300]);
}
function gameWin(){
  gameActive=false;
  document.getElementById("status").textContent="üéâ Wanneer de klok negen slaat en avond in het duister baadt, verschijnt de haan met vurig kam, die waakt waar voor hem stilte kwam. Wie hem ontmoet op 't uur der nacht, zal dragen last tot morgengracht.";
  document.getElementById("status").classList.add("sparkle");
  document.getElementById("portal").classList.add("active");
  document.getElementById("energy-wave").classList.add("active");
  if(navigator.vibrate) navigator.vibrate([200,100,200,100,250]);
}
</script>
</body>
</html>
